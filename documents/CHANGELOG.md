# 編集履歴

## 2025-07-20

- **リファクタリング**

  - プロジェクト名を `notion-to-hatena` から `notion-to-hatena-py` に変更。
  - `pyproject.toml` と `README.md` のプロジェクト名を更新。

- **ドキュメント**
  - MIT ライセンスファイルを追加。
  - `README.md` にライセンス情報を追記。
- **その他**
  - `.ruff_cache` を `.gitignore` に追加。

## 2025-07-18

- **機能追加**
  - Notion のコールアウトを、はてなブログで CSS を使って装飾された HTML 形式に変換する機能を追加。
  - Notion の埋め込み (`embed`) をはてなブログの埋め込み形式 (`[URL:embed]`) に変換する機能を追加。
  - Notion のリンクプレビュー (`link_preview`) をはてなブログの埋め込み形式 (`[URL:embed]`) に変換する機能を追加。
  - Notion のブックマーク (`bookmark`) をはてなブログの埋め込み形式に変換する機能を追加。
  - 段落内のテキストリンクをはてなブログのタイトル付きリンク形式 (`[URL:title=テキスト]`) に変換する機能を追加。
  - ドキュメントフォルダ (`documents`) を作成し、仕様書とタスクリストを移動。
  - Notion ページのタイトルを自動で取得し、記事タイトルとして使用する機能を追加。
  - `print`でのログ出力を標準の`logging`モジュールに置き換え。
  - はてなブログへの投稿時に、下書き (`draft`) か公開 (`publish`) かを選択できる機能を追加。
  - Notion の画像 URL をはてなフォトライフにアップロードし、永続的な URL に変換する機能を追加。
- **修正**
  - はてなブログ API への送信時に CDATA セクションを使用し、HTML がエスケープされる問題を修正。
  - コールアウト用の CSS セレクタの特異性を高め、スタイルが正しく適用されるように修正。
  - Notion の URL からページ ID を抽出するロジックを改善。
- **ドキュメント**
  - `README.md` にコールアウトの対応絵文字リストを追記。
  - コールアウト用の CSS ファイル (`hatena_design_css.css`) を作成。
  - `README.md` に Notion トークンの取得方法と、公開オプションについての説明を追記。
  - `CHANGELOG.md` を作成。
  - 仕様書と編集履歴に、コールアウト機能の利用には CSS の適用が必要である旨を追記。
