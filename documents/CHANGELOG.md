# 編集履歴

## 2025-07-18

- **機能追加**
    - Notionのコールアウトを、はてなブログでCSSを使って装飾されたHTML形式に変換する機能を追加。
    - Notionの埋め込み (`embed`) をはてなブログの埋め込み形式 (`[URL:embed]`) に変換する機能を追加。
    - Notionのリンクプレビュー (`link_preview`) をはてなブログの埋め込み形式 (`[URL:embed]`) に変換する機能を追加。
    - Notionのブックマーク (`bookmark`) をはてなブログの埋め込み形式に変換する機能を追加。
    - 段落内のテキストリンクをはてなブログのタイトル付きリンク形式 (`[URL:title=テキスト]`) に変換する機能を追加。
    - ドキュメントフォルダ (`documents`) を作成し、仕様書とタスクリストを移動。
    - Notionページのタイトルを自動で取得し、記事タイトルとして使用する機能を追加。
    - `print`でのログ出力を標準の`logging`モジュールに置き換え。
    - はてなブログへの投稿時に、下書き (`draft`) か公開 (`publish`) かを選択できる機能を追加。
    - Notionの画像URLをはてなフォトライフにアップロードし、永続的なURLに変換する機能を追加。
- **修正**
    - はてなブログAPIへの送信時にCDATAセクションを使用し、HTMLがエスケープされる問題を修正。
    - コールアウト用のCSSセレクタの特異性を高め、スタイルが正しく適用されるように修正。
    - NotionのURLからページIDを抽出するロジックを改善。
- **ドキュメント**
    - `README.md` にコールアウトの対応絵文字リストを追記。
    - コールアウト用のCSSファイル (`hatena_design_css.css`) を作成。
    - `README.md` にNotionトークンの取得方法と、公開オプションについての説明を追記。
    - `CHANGELOG.md` を作成。
    - 仕様書と編集履歴に、コールアウト機能の利用にはCSSの適用が必要である旨を追記。
